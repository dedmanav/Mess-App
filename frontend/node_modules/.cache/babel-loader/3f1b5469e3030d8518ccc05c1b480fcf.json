{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acer\\\\Desktop\\\\MessProject\\\\Mess-App\\\\frontend\\\\src\\\\components\\\\pages\\\\SignUp.js\";\nimport React from 'react';\nimport '../../App.css';\nimport { useEffect } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport bcrypt from 'bcrypt';\nfunction SignUp() {\n  // const [user,setUser] = useState({});\n\n  function handleCallbackResponse(response) {\n    console.log(\"Encoded JWT ID token :\" + response.credential);\n    var userObject = jwt_decode(response.credential);\n    console.log(userObject);\n    if (userObject.email_verified) {\n      db.collection('users').find({\n        email: userObject.email\n      }).toArray((err, result) => {\n        if (err) throw err;\n        if (result.length < 1) {\n          db.collection('users').insert([{\n            name: userObject.name,\n            email: userObject.email,\n            password: bcrypt.hashsync(userObject.at_hash)\n          }]);\n        } else {}\n      });\n    }\n    // setUser(userObject);\n  }\n\n  useEffect(() => {\n    /*global google*/\n    google.accounts.id.initialize({\n      client_id: \"802699845079-f88eqoj2naua7selgj0g5dg8vfjm3or5.apps.googleusercontent.com\",\n      callback: handleCallbackResponse\n      // hosted_domain:'itbhu.ac.in'\n    });\n\n    google.accounts.id.renderButton(document.getElementById(\"signInDiv\"), {\n      theme: \"outline\",\n      size: \"large\"\n    });\n    google.accounts.id.prompt();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"signInDiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, \"googleLogin\");\n}\nexport default SignUp;","map":{"version":3,"names":["React","useEffect","jwt_decode","bcrypt","SignUp","handleCallbackResponse","response","console","log","credential","userObject","email_verified","db","collection","find","email","toArray","err","result","length","insert","name","password","hashsync","at_hash","google","accounts","id","initialize","client_id","callback","renderButton","document","getElementById","theme","size","prompt","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/acer/Desktop/MessProject/Mess-App/frontend/src/components/pages/SignUp.js"],"sourcesContent":["import React from 'react';\r\nimport '../../App.css';\r\nimport { useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport bcrypt from 'bcrypt'\r\n\r\n\r\n\r\n function SignUp() {\r\n\r\n    // const [user,setUser] = useState({});\r\n\r\nfunction handleCallbackResponse(response){\r\n    console.log(\"Encoded JWT ID token :\" + response.credential);\r\n    var userObject = jwt_decode(response.credential);\r\n    console.log(userObject);\r\n    if(userObject.email_verified){\r\n        db.collection('users').find({email:userObject.email}).toArray((err,result)=>{\r\n          if(err) throw(err);\r\n          if(result.length<1){\r\n            db.collection('users').insert([{\r\n                name:userObject.name,\r\n                email:userObject.email,\r\n                password:bcrypt.hashsync(userObject.at_hash)\r\n            }])\r\n          }else{\r\n\r\n          }\r\n        })\r\n    }\r\n    // setUser(userObject);\r\n}\r\n\r\nuseEffect(()=>{\r\n  /*global google*/\r\n  google.accounts.id.initialize({\r\n    client_id:\"802699845079-f88eqoj2naua7selgj0g5dg8vfjm3or5.apps.googleusercontent.com\",\r\n    callback: handleCallbackResponse\r\n    // hosted_domain:'itbhu.ac.in'\r\n  });\r\n  google.accounts.id.renderButton(\r\n    document.getElementById(\"signInDiv\"),\r\n    {theme: \"outline\",size:\"large\"}\r\n  );\r\n  google.accounts.id.prompt();\r\n},[]);\r\n\r\n  return (\r\n    <div id='signInDiv'>googleLogin</div>\r\n  )\r\n}\r\nexport default SignUp;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,eAAe;AACtB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,MAAM,MAAM,QAAQ;AAI1B,SAASC,MAAMA,CAAA,EAAG;EAEf;;EAEJ,SAASC,sBAAsBA,CAACC,QAAQ,EAAC;IACrCC,OAAO,CAACC,GAAG,CAAC,wBAAwB,GAAGF,QAAQ,CAACG,UAAU,CAAC;IAC3D,IAAIC,UAAU,GAAGR,UAAU,CAACI,QAAQ,CAACG,UAAU,CAAC;IAChDF,OAAO,CAACC,GAAG,CAACE,UAAU,CAAC;IACvB,IAAGA,UAAU,CAACC,cAAc,EAAC;MACzBC,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,IAAI,CAAC;QAACC,KAAK,EAACL,UAAU,CAACK;MAAK,CAAC,CAAC,CAACC,OAAO,CAAC,CAACC,GAAG,EAACC,MAAM,KAAG;QAC1E,IAAGD,GAAG,EAAE,MAAMA,GAAG;QACjB,IAAGC,MAAM,CAACC,MAAM,GAAC,CAAC,EAAC;UACjBP,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACO,MAAM,CAAC,CAAC;YAC3BC,IAAI,EAACX,UAAU,CAACW,IAAI;YACpBN,KAAK,EAACL,UAAU,CAACK,KAAK;YACtBO,QAAQ,EAACnB,MAAM,CAACoB,QAAQ,CAACb,UAAU,CAACc,OAAO;UAC/C,CAAC,CAAC,CAAC;QACL,CAAC,MAAI,CAEL;MACF,CAAC,CAAC;IACN;IACA;EACJ;;EAEAvB,SAAS,CAAC,MAAI;IACZ;IACAwB,MAAM,CAACC,QAAQ,CAACC,EAAE,CAACC,UAAU,CAAC;MAC5BC,SAAS,EAAC,0EAA0E;MACpFC,QAAQ,EAAEzB;MACV;IACF,CAAC,CAAC;;IACFoB,MAAM,CAACC,QAAQ,CAACC,EAAE,CAACI,YAAY,CAC7BC,QAAQ,CAACC,cAAc,CAAC,WAAW,CAAC,EACpC;MAACC,KAAK,EAAE,SAAS;MAACC,IAAI,EAAC;IAAO,CAChC,CAAC;IACDV,MAAM,CAACC,QAAQ,CAACC,EAAE,CAACS,MAAM,CAAC,CAAC;EAC7B,CAAC,EAAC,EAAE,CAAC;EAEH,oBACEpC,KAAA,CAAAqC,aAAA;IAAKV,EAAE,EAAC,WAAW;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAgB,CAAC;AAEzC;AACA,eAAevC,MAAM"},"metadata":{},"sourceType":"module"}